local DrRayLibrary = loadstring(game:HttpGet("https://raw.githubusercontent.com/bielmenu/BielMenu/refs/heads/main/LunaUI"))()

local window = DrRayLibrary:Load("Biel Menu", "Default")

local tab1 = DrRayLibrary.newTab("Main", "http://www.roblox.com/asset/?id=6035030083", true)

local function deletarNotifyDeErro()
	local playerGui = game.Players.LocalPlayer:WaitForChild("PlayerGui")

	for _, gui in ipairs(playerGui:GetChildren()) do
		if gui.Name == "NotifyGui" and gui:IsA("ScreenGui") then
			local frame = gui:FindFirstChild("Frame")
			if frame then
				for _, child in ipairs(frame:GetChildren()) do
					if child:IsA("TextLabel") and child.Text:match("^Error #%d+") then
						child:Destroy() -- Remove toda a notificação
						print("Notificação de erro removida:", child.Text)
					end
				end
			end
		end
	end
end

tab1.newButton("Auto Puxar Items", "Puxe Todos Items De Quem Você Está Revistando!", function()

	local outroCont = game.Players.LocalPlayer.PlayerGui:WaitForChild("BackpackNova"):WaitForChild("Inventario"):WaitForChild("Outro").conteudo


	while true do
		local revistaInfo = game.Players.LocalPlayer:FindFirstChild("RevistaPlayer")

		if revistaInfo and revistaInfo.Value ~= nil then
			local invTarget = revistaInfo.Value:FindFirstChild("Inv")

			if invTarget then
				local items = invTarget:GetChildren()

				for i, item in ipairs(items) do
					local args = {
						"mudaInv",
						tostring(i),
						item.Name,
						1
					}

					local itemGui = outroCont:FindFirstChild(item.Name, true)

					if itemGui and itemGui:FindFirstChild("Qnt") and itemGui.Qnt:IsA("TextLabel") then
						local text = itemGui.Qnt.Text

						if text:sub(1, 1) == "x" then
							text = text:sub(2)
						end

						local qtd = tonumber(text)
						if qtd and qtd >= 1 then
							args[4] = qtd
						else
							args[4] = 1
						end
					end

					task.spawn(function()
						local invRequest = game.ReplicatedStorage:WaitForChild("Modules"):WaitForChild("InvRemotes"):WaitForChild("InvRequest")
						invRequest:InvokeServer(unpack(args))
					end)
				end
			end
		end
		deletarNotifyDeErro()
		task.wait(.1)
	end

end)


tab1.newButton("Auto Puxar Items - Legit", "Puxe Apenas Alguns Items De Quem Você Está Revistando!", function()

	local outroCont = game.Players.LocalPlayer.PlayerGui:WaitForChild("BackpackNova"):WaitForChild("Inventario"):WaitForChild("Outro").conteudo

	local WhiteListItens = {
		"AK47", "AR-15", "C4", "Energe", "Escudo", "Faca", "G3", "Glock 17", "Hi Power", "IA2",
		"Lockpick", "PARAFAL", "Natalina", "Peça de Arma", "Planta Limpa", "Planta Suja", "Plástico Pronto",
		"Plástico Vazio", "Skate", "Tratamento", "Troféu Senna", "USP", "Uzi"
	}

	-- Função para verificar se está na whitelist
	local function IsInWhiteList(itemName)
		for _, v in ipairs(WhiteListItens) do
			if v == itemName then
				return true
			end
		end
		return false
	end

	while true do
		local revistaInfo = game.Players.LocalPlayer:FindFirstChild("RevistaPlayer")

		if revistaInfo and revistaInfo.Value ~= nil then
			local invTarget = revistaInfo.Value:FindFirstChild("Inv")

			if invTarget then
				local items = invTarget:GetChildren()

				for i, item in ipairs(items) do
					-- Verifica se o item está na whitelist
					if IsInWhiteList(item.Name) then
						local args = {
							"mudaInv",
							tostring(i),
							item.Name,
							1
						}

						local itemGui = outroCont:FindFirstChild(item.Name, true)

						if itemGui and itemGui:FindFirstChild("Qnt") and itemGui.Qnt:IsA("TextLabel") then
							local text = itemGui.Qnt.Text

							if text:sub(1, 1) == "x" then
								text = text:sub(2)
							end

							local qtd = tonumber(text)
							if qtd and qtd >= 1 then
								args[4] = qtd
							else
								args[4] = 1
							end
						end

						task.spawn(function()
							local invRequest = game.ReplicatedStorage:WaitForChild("Modules"):WaitForChild("InvRemotes"):WaitForChild("InvRequest")
							invRequest:InvokeServer(unpack(args))
						end)
					end
				end
			end
		end

		deletarNotifyDeErro()
		task.wait(0.1)
	end

end)

tab1.newButton("Fly", "Você Pode Voar Agora :D", function()
	
	loadstring(game:HttpGet("https://raw.githubusercontent.com/bielmenu/BielMenu/refs/heads/main/FlySystem"))()
	
end)

tab1.newButton("Remover Dano De Queda", "Remova o Dano de Queda e Não Tomara Mais Dano Caindo", function()
	
	local function deleteDamageEvents()
		for _, obj in ipairs(game:GetDescendants()) do
			if obj:IsA("RemoteEvent") or obj:IsA("BindableEvent") then
				if string.lower(obj.Name):find("damage") or string.lower(obj.Name):find("dano") then
					obj:Destroy()
				end
			end
		end
	end

	deleteDamageEvents()

	game.DescendantAdded:Connect(function(obj)
		if (obj:IsA("RemoteEvent") or obj:IsA("BindableEvent")) then
			if string.lower(obj.Name):find("damage") or string.lower(obj.Name):find("dano") then
				obj:Destroy()
			end
		end
	end)
	
end)




local KeyR = nil

--[[tab1.newToggle("Revistar ()", "", true, function(toggleState)
    if toggleState then
        print("On")
    else
        print("Off")
    end
end)]]

game.UserInputService.InputBegan:Connect(function(input, gp)
	if gp then return end
	if KeyR and input.KeyCode == KeyR then
		
		game:GetService("ReplicatedStorage"):WaitForChild("RemoteNovos"):WaitForChild("bixobrabo"):FireServer("/revistar")
		
	end
end)

tab1.newButton("Revistar (Mobile)", "Crie Um Botão Na Sua Tela Para Enviar Revistar", function()

	local function sendRevistarMessage()
		game:GetService("ReplicatedStorage"):WaitForChild("RemoteNovos"):WaitForChild("bixobrabo"):FireServer("/revistar")
	end

	-- Cria a interface
	local ScreenGui = Instance.new("ScreenGui")
	local Frame = Instance.new("CanvasGroup")
	local CloseButton = Instance.new("TextButton")
	local RevistarButton = Instance.new("TextButton")
	local Ui1 = Instance.new("UIStroke")
	local Ui2 = Instance.new("UIStroke")
	local Title = Instance.new("TextLabel")

	ScreenGui.Name = "RevistarUI"
	ScreenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")


	Ui2.Color = Color3.fromRGB(30, 30, 30)
	Ui2.Parent = Frame
	Ui2.LineJoinMode = Enum.LineJoinMode.Miter
	Ui2.Thickness = 2

	Ui1.Color = Color3.fromRGB(30, 30, 30)
	Ui1.Parent = RevistarButton
	Ui1.LineJoinMode = Enum.LineJoinMode.Miter
	Ui1.Thickness = 2
	Ui1.ApplyStrokeMode = Enum.ApplyStrokeMode.Border

	-- Estilo do Frame
	Frame.Size = UDim2.new(0, 300, 0, 100)
	Frame.Position = UDim2.new(0.5, -150, 0.5, -75)
	Frame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
	Frame.BorderSizePixel = 0
	Frame.BackgroundTransparency = 0.6
	Frame.Active = true
	Frame.Draggable = true

	-- Título
	Title.Size = UDim2.new(1, 0, 0, 30)
	Title.Position = UDim2.new(0, 0, 0, 0)
	Title.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
	Title.Text = "BIEL BS"
	Title.TextColor3 = Color3.fromRGB(255, 255, 255)
	Title.Font = Enum.Font.MontserratBold
	Title.TextSize = 18

	-- Botão Fechar
	CloseButton.Size = UDim2.new(0, 30, 0, 30)
	CloseButton.Position = UDim2.new(1, -30, 0, 0)
	CloseButton.BackgroundTransparency = 1
	CloseButton.Text = "–"
	CloseButton.TextColor3 = Color3.fromRGB(255, 255, 255)
	CloseButton.Font = Enum.Font.MontserratBold
	CloseButton.TextSize = 25
	CloseButton.MouseButton1Click:Connect(function()
		ScreenGui:Destroy()
	end)

	-- Botão Revistar
	RevistarButton.Size = UDim2.new(0.8, 0, 0.4, 0)
	RevistarButton.Position = UDim2.new(0.1, 0, 0.75, -30)
	RevistarButton.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
	RevistarButton.Text = "REVISTAR"
	RevistarButton.TextColor3 = Color3.fromRGB(255, 255, 255)
	RevistarButton.Font = Enum.Font.MontserratBold
	RevistarButton.BackgroundTransparency = 0.6
	RevistarButton.TextSize = 20
	RevistarButton.AutoButtonColor = true
	RevistarButton.MouseButton1Click:Connect(function()
		sendRevistarMessage()
	end)

	-- Adiciona os elementos ao frame
	Frame.Parent = ScreenGui
	Title.Parent = Frame
	CloseButton.Parent = Frame
	RevistarButton.Parent = Frame
	
end)

tab1.newKeybind("Revistar (PC)", "Clica a Tecla Para Revistar!", function(key)
	print(key.KeyCode)
	KeyR = key.KeyCode
end)

--tab1.newDropdown("Dropdown", "Select one of these options!", {"water", "dog", "air", "bb", "airplane", "wohhho", "yeay", "delete"}, function(selectedOption)
--	print(selectedOption)
--end)

tab1.newSlider("Slider", "Epic slider",100, 1000, false, function(num)
	print(num)
end)

local CombateTab = DrRayLibrary.newTab("Combate", "http://www.roblox.com/asset/?id=6034509987", false)




local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local Camera = workspace.CurrentCamera
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

local isMobile = true
local Ativado = false

local AimbotSettings = {
	TeamCheck = false,
	FacCheck = true,
	AliveCheck = true,
	LockPart = "Head",
	FOV = 90,
	FOVColor = Color3.fromRGB(85, 0, 127),
	LockedColor = Color3.fromRGB(153, 0, 230),
	Sensitivity = 10,
	BigHead = false
}

local FOVCircle = Drawing.new("Circle")
FOVCircle.Visible = false
FOVCircle.Radius = AimbotSettings.FOV
FOVCircle.Thickness = 2
FOVCircle.Transparency = 1
FOVCircle.Color = AimbotSettings.FOVColor
FOVCircle.Filled = false

local function GetClosestTarget()
	local closestPlayer = nil
	local shortestDistance = AimbotSettings.FOV

	for _, player in ipairs(Players:GetPlayers()) do
		if player ~= LocalPlayer and player.Character and player.Character:FindFirstChild(AimbotSettings.LockPart) then

			if AimbotSettings.FacCheck and player.ValoresSalvados.Faccao.Value == LocalPlayer.ValoresSalvados.Faccao.Value then
				--game.ReplicatedStorage.NotifyClient:Fire("Não Foi Possivel Grudar no "..player.Name.." porque ele é da mesma facção")
				continue
			end


			if AimbotSettings.TeamCheck and player.Team == LocalPlayer.Team then continue end
			if AimbotSettings.AliveCheck then
				local humanoid = player.Character:FindFirstChildOfClass("Humanoid")
				if humanoid and humanoid.Health <= 0 then continue end
			end

			local part = player.Character[AimbotSettings.LockPart]
			local screenPos, onScreen = Camera:WorldToViewportPoint(part.Position)
			if onScreen then
				local inputPos = isMobile and Vector2.new(Camera.ViewportSize.X / 2, Camera.ViewportSize.Y / 2)
				local distance = (Vector2.new(screenPos.X, screenPos.Y) - inputPos).Magnitude
				if distance < shortestDistance then
					shortestDistance = distance
					closestPlayer = player
				end
			end
		end
	end

	return closestPlayer
end

RunService.RenderStepped:Connect(function(dt)
	if not Ativado then return end

	FOVCircle.Position = isMobile
		and Vector2.new(Camera.ViewportSize.X / 2, Camera.ViewportSize.Y / 2)
		or Vector2.new(UserInputService:GetMouseLocation().X, UserInputService:GetMouseLocation().Y)

	for _, player in ipairs(Players:GetPlayers()) do
		if player ~= LocalPlayer and player.Character and player.Character:FindFirstChild("Head") then
			local head = player.Character.Head

			if Ativado then
				-- Apenas modifica uma vez
				if not head:FindFirstChild("AimbotMod") then
					local mod = Instance.new("BoolValue")
					mod.Name = "AimbotMod"
					mod.Parent = head
					if AimbotSettings.BigHead then
						head.Size = Vector3.new(6, 6, 6)
						head.Transparency = 1
						local face = head:FindFirstChild("face")
						if face then face.Transparency = 1 end
					end

				end
			else
				-- Reset visual
				if head:FindFirstChild("AimbotMod") then
					head.Size = Vector3.new(1, 1, 1)
					head.Transparency = 0
					local face = head:FindFirstChild("face")
					if face then face.Transparency = 0 end
					head:FindFirstChild("AimbotMod"):Destroy()
				end
			end
		end
	end

	local target = GetClosestTarget()

	if target and target.Character and target.Character:FindFirstChild(AimbotSettings.LockPart) then
		FOVCircle.Color = AimbotSettings.LockedColor
		local part = target.Character[AimbotSettings.LockPart]
		local goalCFrame = CFrame.new(Camera.CFrame.Position, part.Position)
		local alpha = math.clamp(AimbotSettings.Sensitivity * dt, 0.05, 1)
		Camera.CFrame = Camera.CFrame:Lerp(goalCFrame, alpha)
	else
		FOVCircle.Color = AimbotSettings.FOVColor
	end
end)


CombateTab.newToggle("Aimbot", "Aimbot - Ajude Sua Mirar Grudar na Cabeça dos Inimigos", false, function(toggleState)
	if toggleState then
		Ativado = true
	else
		Ativado = false
	end
end)

CombateTab.newToggle("Fac Check", "Verifica Se o Alvo é Da Mesma Facção se For Não Gruda", AimbotSettings.FacCheck, function(toggleState)
	if toggleState then
		AimbotSettings.FacCheck = true
	else
		AimbotSettings.FacCheck = false
	end
end)

CombateTab.newToggle("Time Check", "Verifica Se o Alvo é Do Mesmo Time se For Não Gruda", AimbotSettings.TeamCheck, function(toggleState)
	if toggleState then
		AimbotSettings.TeamCheck = true
	else
		AimbotSettings.TeamCheck = false
	end
end)
